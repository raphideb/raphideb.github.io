<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Oracle on raphi&#39;s corner</title>
    <link>http://localhost:1313/oracle/</link>
    <description>Recent content in Oracle on raphi&#39;s corner</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <atom:link href="http://localhost:1313/oracle/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>active session history</title>
      <link>http://localhost:1313/oracle/ash/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/oracle/ash/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;ash---active-session-history&#34;&#xA;    &gt;&#xA;        ASH - Active Session History&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;http://localhost:1313/oracle/ash/#ash---active-session-history&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ASH - Active Session History&#34; aria-label=&#34;Anchor to: ASH - Active Session History&#34; href=&#34;#ash---active-session-history&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;table&gt;&lt;tr&gt;&lt;td valign=&#34;top&#34; style=&#34;padding-top: 5%&#34;&gt;&#xA;&lt;img src=&#34;http://localhost:1313/oracle/ash.jpg&#34; alt=&#34;active_session_history&#34; width=&#34;100%&#34; height=&#34;100%&#34;/&gt;&#xA;&lt;/td&gt;&lt;td width=&#34;40%&#34; valign=&#34;top&#34;&gt;&#xA;&lt;h2&gt;Table of content&lt;/h2&gt;&#xA;&lt;div class=&#34;gdoc-toc gdoc-toc__level--2&#34;&gt;&#xA;      &lt;nav id=&#34;TableOfContents&#34;&gt;&#xA;  &lt;ul&gt;&#xA;    &lt;li&gt;&#xA;      &lt;ul&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#ash---active-session-history&#34;&gt;ASH - Active Session History&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#useful-tables-and-views&#34;&gt;Useful Tables and Views&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#ash-basics&#34;&gt;ASH Basics&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#description-of-the-fields&#34;&gt;Description of the fields&lt;/a&gt;&#xA;              &lt;ul&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#useful-fields&#34;&gt;Useful Fields&lt;/a&gt;&lt;/li&gt;&#xA;              &lt;/ul&gt;&#xA;            &lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#checking-available-ash-data&#34;&gt;Checking available ASH data&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#saving-ash-data&#34;&gt;Saving ASH data&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#how-to-write-ash-scripts&#34;&gt;How to write ASH scripts&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#basic-script&#34;&gt;Basic Script&lt;/a&gt;&#xA;              &lt;ul&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#query-from-ash&#34;&gt;Query from ASH&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#query-from-dash&#34;&gt;Query from DASH&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#mapping-to-user-and-object-name&#34;&gt;Mapping to User and Object Name&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#limiting-the-time-range&#34;&gt;Limiting the time range&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#limiting-the-number-of-rows&#34;&gt;Limiting the number of rows&lt;/a&gt;&lt;/li&gt;&#xA;              &lt;/ul&gt;&#xA;            &lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#drilldown&#34;&gt;Drilldown&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#finding-blocking-sessions&#34;&gt;Finding blocking sessions&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#tracing-a-specific-query&#34;&gt;Tracing a specific query&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#plsql-queries&#34;&gt;PL/SQL queries&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#viewing-specific-events&#34;&gt;Viewing specific events&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#other-useful-filters&#34;&gt;Other useful filters&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#more-ash-queries&#34;&gt;More ASH queries&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#track-pga-usage&#34;&gt;Track PGA usage&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#track-temp-usage&#34;&gt;Track TEMP usage&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#making-sense-of-the-output&#34;&gt;Making sense of the output&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#wait-events&#34;&gt;Wait events&lt;/a&gt;&#xA;              &lt;ul&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#event-parameters&#34;&gt;Event Parameters&lt;/a&gt;&lt;/li&gt;&#xA;              &lt;/ul&gt;&#xA;            &lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#locks-and-blocking-sessions&#34;&gt;Locks and blocking sessions&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#common-waits-and-what-to-do-about-them&#34;&gt;Common waits and what to do about them&lt;/a&gt;&lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#make-your-life-easier&#34;&gt;Make your life easier&lt;/a&gt;&lt;/li&gt;&#xA;      &lt;/ul&gt;&#xA;    &lt;/li&gt;&#xA;  &lt;/ul&gt;&#xA;&lt;/nav&gt;&#xA;      &lt;hr /&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;The view **gv\$active_session_history** (ASH) records in memory every second the wait events of all active sessions. It is the single most important source of information for deep performance analysis on a session or even query level, like what a session was doing in a particular moment in time, what queries it was executing or which other sessions were blocking it. For all the data it contains it is surprisingly easy to use. First I will explain how the ASH works and what fields it provides, then I show you a basic script and how to extend it with all sorts of queries to get the info that you need.&#xA;&lt;p&gt;Since the memory for ASH is limited, the data is only available for a few days or even hours. It is also usually gone when the instance was restarted, therefore, every 10 seconds a snapshot of the ASH data is stored permanently on disk and can be accessed through the view &lt;strong&gt;dba_hist_active_sess_history&lt;/strong&gt; (DASH). The live view (Top activity) of Enterprise Manager is based on ASH data, AWR reports are based on &lt;strong&gt;dba_hist_&lt;/strong&gt;* views.&lt;/p&gt;</description>
    </item>
    <item>
      <title>ashtop</title>
      <link>http://localhost:1313/oracle/ashtop/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>http://localhost:1313/oracle/ashtop/</guid>
      <description>&lt;div class=&#34;flex align-center gdoc-page__anchorwrap&#34;&gt;&#xA;    &lt;h2 id=&#34;ashtop---the-swiss-army-knife-for-ash&#34;&#xA;    &gt;&#xA;        ashtop - the Swiss Army Knife for ASH&#xA;    &lt;/h2&gt;&#xA;    &lt;a data-clipboard-text=&#34;http://localhost:1313/oracle/ashtop/#ashtop---the-swiss-army-knife-for-ash&#34; class=&#34;gdoc-page__anchor clip flex align-center&#34; title=&#34;Anchor to: ashtop - the Swiss Army Knife for ASH&#34; aria-label=&#34;Anchor to: ashtop - the Swiss Army Knife for ASH&#34; href=&#34;#ashtop---the-swiss-army-knife-for-ash&#34;&gt;&#xA;        &lt;svg class=&#34;gdoc-icon gdoc_link&#34;&gt;&lt;use xlink:href=&#34;#gdoc_link&#34;&gt;&lt;/use&gt;&lt;/svg&gt;&#xA;    &lt;/a&gt;&#xA;&lt;/div&gt;&#xA;&lt;table&gt;&lt;tr&gt;&lt;td style=&#34;padding-top: 5%&#34;&gt;&#xA;&lt;img src=&#34;http://localhost:1313/oracle/ashtop.jpg&#34; alt=&#34;ashtop&#34; width=&#34;100%&#34; height=&#34;100%&#34;/&gt;&#xA;&lt;/td&gt;&lt;td width=&#34;50%&#34; valign=&#34;top&#34;&gt;&#xA;&lt;h2&gt;Table of content&lt;/h2&gt;&#xA;&lt;div class=&#34;gdoc-toc gdoc-toc__level--2&#34;&gt;&#xA;      &lt;nav id=&#34;TableOfContents&#34;&gt;&#xA;  &lt;ul&gt;&#xA;    &lt;li&gt;&#xA;      &lt;ul&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#ashtop---the-swiss-army-knife-for-ash&#34;&gt;ashtop - the Swiss Army Knife for ASH&lt;/a&gt;&lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#syntax&#34;&gt;Syntax&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#structure-of-ashtop&#34;&gt;Structure of ashtop&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#time-specifications&#34;&gt;Time specifications&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#derived-columns&#34;&gt;Derived columns&lt;/a&gt;&#xA;              &lt;ul&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#username-and-objt&#34;&gt;username and objt&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#event2&#34;&gt;event2&lt;/a&gt;&lt;/li&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#time_model_name&#34;&gt;time_model_name&lt;/a&gt;&#xA;                  &lt;ul&gt;&#xA;                    &lt;li&gt;&lt;a href=&#34;#meaning-of-some-of-the-time_model_name&#34;&gt;Meaning of some of the time_model_name&lt;/a&gt;&lt;/li&gt;&#xA;                  &lt;/ul&gt;&#xA;                &lt;/li&gt;&#xA;              &lt;/ul&gt;&#xA;            &lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#empty-sql_id&#34;&gt;Empty SQL_ID&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#formatting&#34;&gt;Formatting&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#customizing-ashtopsql&#34;&gt;Customizing ashtop.sql&lt;/a&gt;&#xA;              &lt;ul&gt;&#xA;                &lt;li&gt;&lt;a href=&#34;#working-with-a-copy-of-the-ash&#34;&gt;Working with a copy of the ASH&lt;/a&gt;&lt;/li&gt;&#xA;              &lt;/ul&gt;&#xA;            &lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#using-ashtop&#34;&gt;Using ashtop&lt;/a&gt;&lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#example-queries&#34;&gt;Example queries&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#top-events-of-the-last-hour&#34;&gt;Top events of the last hour&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#top-waits-of-the-last-5-minutes&#34;&gt;Top waits of the last 5 minutes&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#sessions-with-highest-cpu-usage&#34;&gt;Sessions with highest CPU usage&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#sessions-with-the-highest-io-waits&#34;&gt;Sessions with the highest I/O waits&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#what-was-the-application-doing&#34;&gt;What was the application doing&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#what-was-a-specific-session-doing&#34;&gt;What was a specific session doing&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#which-waits-on-which-objects&#34;&gt;Which waits on which objects&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#which-sql-statement-read-the-longest-from-what&#34;&gt;Which SQL statement read the longest from what&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#what-caused-the-most-log-file-syncs&#34;&gt;What caused the most log file syncs&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#are-top-sessions-blocked-by-another-session&#34;&gt;Are top sessions blocked by another session&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#top-blocked-sessions&#34;&gt;Top blocked sessions&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#on-which-objects-blocked-sessions-each-other&#34;&gt;On which objects blocked sessions each other&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#highest-pga-usage&#34;&gt;Highest PGA usage&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#sql-plan-statistics&#34;&gt;SQL plan statistics&lt;/a&gt;&#xA;          &lt;ul&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#with-ashtop&#34;&gt;With ashtop&lt;/a&gt;&lt;/li&gt;&#xA;            &lt;li&gt;&lt;a href=&#34;#with-asqlmon&#34;&gt;With asqlmon&lt;/a&gt;&lt;/li&gt;&#xA;          &lt;/ul&gt;&#xA;        &lt;/li&gt;&#xA;        &lt;li&gt;&lt;a href=&#34;#conclusion&#34;&gt;Conclusion&lt;/a&gt;&lt;/li&gt;&#xA;      &lt;/ul&gt;&#xA;    &lt;/li&gt;&#xA;  &lt;/ul&gt;&#xA;&lt;/nav&gt;&#xA;      &lt;hr /&gt;&#xA;    &lt;/div&gt;&#xA;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;p&gt;Tanel Poder&amp;rsquo;s script &amp;ldquo;ashtop.sql&amp;rdquo; greatly simplifies querying ASH and is essentially a fully parameterizable &amp;ldquo;grep&amp;rdquo; for ASH. The script comes in two variants:&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
