<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>pgbench | raphi&#39;s corner</title>
<meta name="description" content="Using pgbench for custom benchmarks">
<meta property="og:url" content="//localhost:1313/postgres/pgbench/">
  <meta property="og:site_name" content="raphi&#39;s corner">
  <meta property="og:title" content="pgbench">
  <meta property="og:description" content="Using pgbench for custom benchmarks">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="postgres">
    <meta property="article:modified_time" content="2025-07-08T23:30:37+02:00">

  <meta itemprop="name" content="pgbench">
  <meta itemprop="description" content="Using pgbench for custom benchmarks">
  <meta itemprop="dateModified" content="2025-07-08T23:30:37+02:00">
  <meta itemprop="wordCount" content="3158">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="pgbench">
  <meta name="twitter:description" content="Using pgbench for custom benchmarks">
<link href="/scss/main.css" rel="stylesheet">
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
  crossorigin="anonymous"></script>

  </head>
  <body class="td-page">
    <header>
      <nav class="td-navbar js-navbar-scroll" data-bs-theme="dark">
<div class="container-fluid flex-column flex-md-row">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 500 500" style="enable-background:new 0 0 500 500"><g><path style="fill:#fff" d="M116.8525 421.9722c-5.7041.0-10.3442-4.3127-10.3442-9.6129V88.183c0-5.3002 4.6401-9.6117 10.3442-9.6117H320.858c3.0347.0 9.3959.5498 11.7506 2.6302l.3545.3442 58.905 63.2912c2.3101 2.491 2.9202 8.4928 2.9202 11.3184v256.2039c0 5.3002-4.6407 9.6129-10.3436 9.6129H116.8525z"/><g><g><g><path style="fill:#767676" d="M384.4445 423.2066H116.852c-6.3839.0-11.5786-4.8658-11.5786-10.8474V88.1831c0-5.9804 5.1947-10.8461 11.5786-10.8461h204.0062c.377.0 9.2786.0329 12.568 2.9389l.3947.3833 58.9508 63.337c3.2135 3.4652 3.2514 11.7924 3.2514 12.1593v256.2036C396.0231 418.3408 390.8284 423.2066 384.4445 423.2066zM116.5079 411.9189c.0848.0278.1999.0531.3441.0531h267.5925c.1442.0.2581-.0253.3441-.0531V156.1556c-.0076-.9033-.3593-3.7347-.7034-5.0037l-57.6527-61.9416c-1.4651-.3176-4.4533-.6389-5.5742-.6389H116.852c-.143.0-.2594.024-.3441.0531V411.9189zm267.4533-261.149zM327.0321 89.371v.0013V89.371z"/></g></g></g><g><g><path style="fill:#5b7fc0" d="M189.0874 210.1754l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4473C177.5953 212.627 183.0601 210.1742 189.0874 210.1754zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 234.1722 197.0804 232.033z"/><path style="opacity:.3;fill:#fff" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/><g><defs><path id="SVGID_1_" d="M194.7376 237.6875c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 234.2399 196.1861 236.239 194.7376 237.6875z"/></defs><clipPath id="SVGID_2_"><use xlink:href="#SVGID_1_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_2_);fill:#fff" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/><path style="opacity:.13;clip-path:url(#SVGID_2_);fill:#020202" d="M190.0704 225.0237c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 225.7247 191.9774 225.0237 190.0704 225.0237z"/></g><g><defs><path id="SVGID_3_" d="M189.0898 210.176c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 212.6276 183.0612 210.176 189.0898 210.176zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 236.239 197.0839 234.2399 197.0839 232.0372z"/></defs><clipPath id="SVGID_4_"><use xlink:href="#SVGID_3_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_4_);fill:#5b7fc0" d="M172.6595 215.6045c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8475-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 209.1953 176.6171 211.647 172.6595 215.6045z"/></g></g><rect x="198.8952" y="225.1043" style="fill:#5b7fc0" width="122.6266" height="13.8671"/></g><g><path style="fill:#d95140" d="M189.0874 155.7611l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.0249 2.454-11.4897 6.4116-15.4473C177.5953 158.2128 183.0601 155.7599 189.0874 155.7611zm7.993 21.8577c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.2508 181.7667 197.0816 179.758 197.0804 177.6188z"/><path style="opacity:.3;fill:#fff" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/><g><defs><path id="SVGID_5_" d="M194.7376 183.2733c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 179.8256 196.1861 181.8248 194.7376 183.2733z"/></defs><clipPath id="SVGID_6_"><use xlink:href="#SVGID_5_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_6_);fill:#fff" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/><path style="opacity:.13;clip-path:url(#SVGID_6_);fill:#020202" d="M190.0704 170.6095c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9546.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.663-2.8588-6.116.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C193.7885 171.3104 191.9774 170.6095 190.0704 170.6095z"/></g><g><defs><path id="SVGID_7_" d="M189.0898 155.7617c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8066-21.8612-21.8613.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 158.2134 183.0612 155.7617 189.0898 155.7617zm7.9941 21.8613c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 181.8248 197.0839 179.8256 197.0839 177.623z"/></defs><clipPath id="SVGID_8_"><use xlink:href="#SVGID_7_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_8_);fill:#d95140" d="M172.6595 161.1903c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 154.7811 176.6171 157.2327 172.6595 161.1903z"/></g><rect x="198.8952" y="170.69" style="fill:#d95140" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#56a55c" d="M189.5379 264.6147l.0012-.0012c7.7751.0012 15.0294 4.1862 18.932 10.9235 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3304-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032-5.8394.0-11.3281-2.2733-15.458-6.4032-4.13-4.13-6.4032-9.6186-6.4056-15.4628.0012-6.0249 2.454-11.4897 6.4116-15.4472C178.0458 267.0663 183.5105 264.6135 189.5379 264.6147zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6538 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403C196.7013 290.6202 197.5321 288.6115 197.5309 286.4723z"/><path style="opacity:.3;fill:#fff" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/><g><defs><path id="SVGID_9_" d="M195.1881 292.1268c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.9989 7.9942-7.9941 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.5344 288.6792 196.6366 290.6783 195.1881 292.1268z"/></defs><clipPath id="SVGID_10_"><use xlink:href="#SVGID_9_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_10_);fill:#fff" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/><path style="opacity:.13;clip-path:url(#SVGID_10_);fill:#020202" d="M190.5209 279.463c-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7446-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9941 2.3802-1e-4 4.616 1.0833 6.1218 2.8788C194.239 280.164 192.4279 279.463 190.5209 279.463z"/></g><g><defs><path id="SVGID_11_" d="M189.5403 264.6153c7.7763.0 15.0283 4.1826 18.926 10.9151 1.9201 3.3135 2.9377 7.0987 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8613-12.0547.0024-21.8636-9.8065-21.8612-21.8613.0-6.0285 2.4516-11.492 6.4116-15.452C178.0482 267.0669 183.5117 264.6153 189.5403 264.6153zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9941.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.6366 290.6783 197.5344 288.6792 197.5344 286.4765z"/></defs><clipPath id="SVGID_12_"><use xlink:href="#SVGID_11_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_12_);fill:#56a55c" d="M173.11 270.0439c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8613 12.0547.0024 21.8636-9.797 21.8613-21.8613.0024-3.8474-1.0151-7.6326-2.9353-10.9462-3.8977-6.7325-11.1497-10.9151-18.926-10.9151C182.5311 263.6346 177.0676 266.0863 173.11 270.0439z"/></g></g><rect x="199.3456" y="279.5436" style="fill:#56a55c" width="122.6266" height="13.8671"/></g><g><g><path style="fill:#f1bc42" d="M189.0874 318.7208l.0012-.0012c7.7751.0012 15.0295 4.1862 18.932 10.9234 1.9177 3.3159 2.9305 7.1011 2.9293 10.9378.0 5.8394-2.2733 11.3305-6.4032 15.4604-4.1288 4.1288-9.6186 6.4032-15.458 6.4032s-11.328-2.2733-15.458-6.4032-6.4032-9.6186-6.4056-15.4628c.0012-6.025 2.454-11.4897 6.4116-15.4472C177.5953 321.1724 183.0601 318.7196 189.0874 318.7208zm7.993 21.8576c.0012-1.4042-.3687-2.7868-1.063-3.9887-1.4293-2.4684-4.0833-3.9995-6.9299-4.0019-4.4077.0024-7.993 3.5877-7.993 7.993.0 2.1356.832 4.1431 2.3427 5.6539 1.5083 1.5083 3.5159 2.3403 5.6503 2.3415 2.1356.0 4.1443-.8308 5.6539-2.3403S197.0816 342.7176 197.0804 340.5784z"/><path style="opacity:.3;fill:#fff" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/><g><defs><path id="SVGID_13_" d="M194.7376 346.2329c-1.4461 1.4461-3.4452 2.3439-5.6479 2.3439-4.4077-.0024-7.9918-3.5865-7.9942-7.9942.0024-4.4125 3.5937-7.999 7.9942-7.9942 2.8443.0 5.497 1.5323 6.924 3.9983.6991 1.2067 1.0702 2.5881 1.0702 3.9959C197.0839 342.7853 196.1861 344.7844 194.7376 346.2329z"/></defs><clipPath id="SVGID_14_"><use xlink:href="#SVGID_13_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_14_);fill:#fff" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/><path style="opacity:.13;clip-path:url(#SVGID_14_);fill:#020202" d="M190.0704 333.5691c-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0011 1.9547.7088 3.7452 1.8782 5.1354-1.7447-1.4674-2.8575-3.6631-2.8588-6.1161.0024-4.4125 3.5936-7.999 7.9942-7.9942 2.3802-1e-4 4.616 1.0834 6.1218 2.8788C193.7885 334.2701 191.9774 333.5691 190.0704 333.5691z"/></g><g><defs><path id="SVGID_15_" d="M189.0898 318.7214c7.7763.0 15.0283 4.1826 18.926 10.915 1.9201 3.3136 2.9377 7.0988 2.9353 10.9462.0024 12.0643-9.8065 21.8636-21.8613 21.8612-12.0547.0024-21.8636-9.8065-21.8612-21.8612.0-6.0285 2.4516-11.4921 6.4116-15.452C177.5977 321.173 183.0612 318.7214 189.0898 318.7214zm7.9941 21.8612c0-1.4078-.3711-2.7892-1.0702-3.9959-1.4269-2.466-4.0797-3.9983-6.924-3.9983-4.4005-.0048-7.9918 3.5817-7.9942 7.9942.0024 4.4077 3.5865 7.9918 7.9942 7.9942 2.2027.0 4.2018-.8978 5.6479-2.3439C196.1861 344.7844 197.0839 342.7853 197.0839 340.5826z"/></defs><clipPath id="SVGID_16_"><use xlink:href="#SVGID_15_" style="overflow:visible"/></clipPath><path style="clip-path:url(#SVGID_16_);fill:#f1bc42" d="M172.6595 324.15c-3.96 3.96-6.4116 9.4235-6.4116 15.452-.0024 12.0547 9.8066 21.8636 21.8613 21.8612 12.0547.0024 21.8636-9.797 21.8613-21.8612.0024-3.8474-1.0151-7.6327-2.9353-10.9462-3.8977-6.7324-11.1497-10.9151-18.926-10.9151C182.0806 317.7407 176.6171 320.1924 172.6595 324.15z"/></g></g><rect x="198.8952" y="333.6497" style="fill:#f1bc42" width="122.6266" height="13.8671"/></g></g></svg></span><span class="navbar-brand__name">raphi&#39;s corner</span></a>
  <div class="td-navbar-nav-scroll ms-md-auto" id="main_navbar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="https://www.postgresql.org/docs/" target="_blank" rel="noopener"><span>Postgres documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://docs.oracle.com/en/database/oracle/oracle-database/index.html" target="_blank" rel="noopener"><span>Oracle documentation</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.perplexity.ai/" target="_blank" rel="noopener"><span>Perplexity</span></a>
      </li>
      <li class="td-light-dark-menu nav-item dropdown">
        <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="check2" viewBox="0 0 16 16">
    <path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"/>
  </symbol>
  <symbol id="circle-half" viewBox="0 0 16 16">
    <path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"/>
  </symbol>
  <symbol id="moon-stars-fill" viewBox="0 0 16 16">
    <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"/>
    <path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"/>
  </symbol>
  <symbol id="sun-fill" viewBox="0 0 16 16">
    <path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"/>
  </symbol>
</svg>

<button class="btn btn-link nav-link dropdown-toggle d-flex align-items-center"
        id="bd-theme"
        type="button"
        aria-expanded="false"
        data-bs-toggle="dropdown"
        data-bs-display="static"
        aria-label="Toggle theme (auto)">
  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg>
</button>
<ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#sun-fill"></use></svg>
      Light
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
      <svg class="bi me-2 opacity-50"><use href="#moon-stars-fill"></use></svg>
      Dark
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
  <li>
    <button type="button" class="dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
      <svg class="bi me-2 opacity-50"><use href="#circle-half"></use></svg>
      Auto
      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg>
    </button>
  </li>
</ul>

      </li>
      </ul>
  </div>
  <div class="d-none d-lg-block">
    
  </div>
</div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            <div id="td-sidebar-menu" class="td-sidebar__inner">
  <form class="td-sidebar__search d-flex align-items-center">
    
    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type="button" data-bs-toggle="collapse" data-bs-target="#td-section-nav" aria-controls="td-section-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  <nav class="td-sidebar-nav collapse" id="td-section-nav">
    <ul class="td-sidebar-nav__section pe-md-3 ul-0">
      <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m--li">
  <a href="/" title="Hi there!" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id="m-"><span class="">Home</span></a>
  <ul class="ul-1">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id="m-postgres-li">
  <a href="/postgres/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-postgres"><span class="">PostgreSQL</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id="m-postgrespgbench-li">
  <a href="/postgres/pgbench/" class="align-left ps-0 active td-sidebar-link td-sidebar-link__page" id="m-postgrespgbench"><span class="td-sidebar-nav-active-item">pgbench</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-postgrespgstat_snap-li">
  <a href="/postgres/pgstat_snap/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-postgrespgstat_snap"><span class="">pgstat_snap</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-oracle-li">
  <a href="/oracle/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-oracle"><span class="">Oracle</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-oracleash-li">
  <a href="/oracle/ash/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-oracleash"><span class="">active session history</span></a>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-oracleashtop-li">
  <a href="/oracle/ashtop/" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-oracleashtop"><span class="">ashtop</span></a>
</li>
  </ul>
</li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id="m-stuff-li">
  <a href="/stuff/" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id="m-stuff"><span class="">Other stuff</span></a>
  <ul class="ul-2 foldable">
    <li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id="m-stuffstuff-li">
  <a href="/stuff/stuff/" title="other stuff" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id="m-stuffstuff"><span class="">Other stuff</span></a>
</li>
  </ul>
</li>
  </ul>
</li>
    </ul>
  </nav>
</div>

          </aside>
          <aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none">
            <div class="td-page-meta ms-2 pb-1 pt-2 mb-0">

</div>

            <div class="td-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#the-postgresql-benchmark-utility">The PostgreSQL benchmark utility</a></li>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#initial-setup">Initial Setup</a></li>
        <li><a href="#tables">Tables</a></li>
        <li><a href="#installation-in-dedicated-database">Installation in dedicated database</a></li>
      </ul>
    </li>
    <li><a href="#run-the-benchmark">Run the benchmark</a>
      <ul>
        <li><a href="#sample-output">Sample output</a></li>
      </ul>
    </li>
    <li><a href="#create-your-own-benchmark">Create your own benchmark</a>
      <ul>
        <li><a href="#write-the-script">Write the script</a></li>
        <li><a href="#run-your-script">Run your script</a></li>
      </ul>
    </li>
    <li><a href="#compare-tpc-b-vs-tpc-ds-like-execution">Compare TPC-B vs TPC-DS like execution</a>
      <ul>
        <li><a href="#tpc-b-like">TPC-B like</a></li>
        <li><a href="#tpc-ds-like">TPC-DS like</a></li>
      </ul>
    </li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
      </div>
    
            

          </aside>
          <main class="col-12 col-md-9 col-xl-8 ps-md-5" role="main">
            
  

            <nav aria-label="breadcrumb" class="td-breadcrumbs">
  <ol class="breadcrumb">
  <li class="breadcrumb-item">
    <a href="/postgres/">PostgreSQL</a></li>
  <li class="breadcrumb-item active" aria-current="page">
    pgbench</li>
  </ol>
</nav>
<div class="td-content">
	<h1>pgbench</h1>
	<div class="lead">Using pgbench for custom benchmarks</div>
	<header class="article-meta">
		
<p class="reading-time"><i class="fa-solid fa-clock" aria-hidden="true"></i>&nbsp; 15 minute read &nbsp;</p>
</header>
	<h2 id="the-postgresql-benchmark-utility">The PostgreSQL benchmark utility</h2>
<img class="floatimg" src="/postgres/pgbench.jpg" alt="elephant" width="25%" height="25%"/>
<br><br>
<p>Including a benchmark utility with a database product demonstrates a strong commitment to performance and transparency. For PostgreSQL, the built-in tool is pgbench, which allows users to test various aspects of the database system. Not only that, it can also run benchmarks on any set of tables with any script that you created yourself, making it the perfect tool to benchmark a specific application workload.
<p>The official documentation is here: <a href="https://www.postgresql.org/docs/current/pgbench.html">https://www.postgresql.org/docs/current/pgbench.html</a></p>
</p>
<div style="clear: both;"></div>
<h2 id="installation">Installation</h2>
<p>In most cases, pgbench is installed in your system’s binary directory when you install PostgreSQL, typically /usr/bin or in the PostgreSQL bindir:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">ls <span class="k">$(</span>pg_config --bindir<span class="k">)</span>/pgbench
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># output</span>
</span></span><span class="line"><span class="cl">/usr/lib/postgresql/17/bin/pgbench
</span></span></code></pre></div><p>By default, pgbench simulates a workload similar to the TPC-B benchmark, generating many small transactions involving single-row updates, lookups, and inserts. However, it’s straightforward to design custom benchmarks, as described further below.</p>
<h3 id="initial-setup">Initial Setup</h3>
<p>Before using pgbench, the necessary tables must be set up in the database. You need to specify a scale factor (-s) during this process, the higher the scale factor, the larger the tables will be. For example, with a scale factor of 100, the pgbench_accounts table will be created with 10 million rows.</p>
<h3 id="tables">Tables</h3>
<p>The following tables will be dropped and recreated if they already exist:</p>
<ul>
<li>pgbench_accounts</li>
<li>pgbench_branches</li>
<li>pgbench_history</li>
<li>pgbench_tellers</li>
</ul>
<p>If you do not specify a database, the tables will be created in the database that psql connects you to (typically your OS user, e.g. postgres). To create the tables, run:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pgbench -i -s <span class="m">100</span>
</span></span></code></pre></div><h3 id="installation-in-dedicated-database">Installation in dedicated database</h3>
<p>If you want the tables to be created in their own database, you need to create a role, database and schema first:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">psql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- create a role:
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">ROLE</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="n">LOGIN</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- create the database owned by that role
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">DATABASE</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="k">OWNER</span><span class="w"> </span><span class="n">pgbench</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- connect to the newly created schema
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="err">\</span><span class="k">c</span><span class="w"> </span><span class="n">pgbench</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">CREATE</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="n">pgbench</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- grant the necessary rights
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">GRANT</span><span class="w"> </span><span class="k">ALL</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="k">SCHEMA</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="k">TO</span><span class="w"> </span><span class="n">pgbench</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">exit</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>Now you are ready to install pgbench into the newly created database:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pgbench -i -s <span class="m">100</span> -d pgbench -U pgbench
</span></span></code></pre></div><h2 id="run-the-benchmark">Run the benchmark</h2>
<p>The most important parameters are:</p>
<ul>
<li>-j [number of jobs]</li>
<li>-c [number of clients]</li>
<li>-T [time to run in seconds]</li>
</ul>
<p>To test the database without being influenced by other factors like cpu scheduling, I prefer to have the same number of jobs and clients and both do not exceed the count of half of my machine&rsquo;s CPU cores.</p>
<p>TPC-B like example to run the benchmark for 10 minutes:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">600</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">-- or in a dedicated database
</span></span><span class="line"><span class="cl">pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">600</span> -d pgbench -U pgbench
</span></span></code></pre></div><p>From here on I assume that the tables are created in the pgbench database and schema.</p>
<h3 id="sample-output">Sample output</h3>
<p>The most meaningful numbers to compare between runs are the tps (transactions per second) and the number of transactions actually processed:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">postgres@plexus:~$ pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">60</span> -d pgbench -U pgbench
</span></span><span class="line"><span class="cl">pgbench <span class="o">(</span>17.5 <span class="o">(</span>Debian 17.5-1.pgdg120+1<span class="o">))</span>
</span></span><span class="line"><span class="cl">starting vacuum...end.
</span></span><span class="line"><span class="cl">transaction type: &lt;builtin: TPC-B <span class="o">(</span>sort of<span class="o">)</span>&gt;
</span></span><span class="line"><span class="cl">scaling factor: <span class="m">100</span>
</span></span><span class="line"><span class="cl">query mode: simple
</span></span><span class="line"><span class="cl">number of clients: <span class="m">20</span>
</span></span><span class="line"><span class="cl">number of threads: <span class="m">20</span>
</span></span><span class="line"><span class="cl">maximum number of tries: <span class="m">1</span>
</span></span><span class="line"><span class="cl">duration: <span class="m">60</span> s
</span></span><span class="line"><span class="cl">number of transactions actually processed: <span class="m">318422</span>
</span></span><span class="line"><span class="cl">number of failed transactions: <span class="m">0</span> <span class="o">(</span>0.000%<span class="o">)</span>
</span></span><span class="line"><span class="cl">latency <span class="nv">average</span> <span class="o">=</span> 3.768 ms
</span></span><span class="line"><span class="cl">initial connection <span class="nb">time</span> <span class="o">=</span> 9.239 ms
</span></span><span class="line"><span class="cl"><span class="nv">tps</span> <span class="o">=</span> 5307.477304 <span class="o">(</span>without initial connection <span class="nb">time</span><span class="o">)</span>
</span></span></code></pre></div><p>By comparing the tps you&rsquo;ll know if the changes you made were positive or not, a higher tps number usually means that you are on the right track.</p>
<h2 id="create-your-own-benchmark">Create your own benchmark</h2>
<p>In this example, I am creating a benchmark that more closely resembles TPC-DS, which is designed for decision support systems. TPC-DS workloads typically involve large-scale updates, inserts, and complex queries that operate on many rows — characteristic of typical data warehouse environments.</p>
<p>In general, while the default TPC-B benchmark primarily tests CPU/memory performance and random access I/O through many small transactions, a TPC-DS-like benchmark tends to generate more sequential I/O due to larger table scans and aggregations, often hitting the shared buffer better.</p>
<h3 id="write-the-script">Write the script</h3>
<p>While it is possible to create your own tables and fill them with data, I am going to use the tables which I already created previously with &ldquo;pgbench -i&rdquo;. Due to the underlying data, this script is by no means a true TPC-DS benchmark, which usually consists of multiple tables in a star schema. But it should give you an idea how to write a benchmark your self.</p>
<p>Copy/paste the following lines into a file, let&rsquo;s call it &ldquo;dwhbench.sql&rdquo;:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">BEGIN</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 1. Total account balance per branch (roll-up by branch)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_balance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_accounts</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 2. Average, min, max account balance per branch (analytics)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="k">AVG</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">avg_balance</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="k">MIN</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">min_balance</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="k">MAX</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">max_balance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_accounts</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 3. Top 10 branches by total account balance (reporting)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_balance</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_accounts</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">total_balance</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 4. Number of accounts per branch with balance above a threshold (filtering)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">a</span><span class="p">.</span><span class="n">aid</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_high_value_accounts</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_accounts</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">abalance</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">100000</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">num_high_value_accounts</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 5. Teller performance: total transactions and sum of deltas per teller
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tid</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">aid</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_transactions</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">delta</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_delta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_tellers</span><span class="w"> </span><span class="n">t</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_history</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">tid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">total_delta</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 6. Daily transaction summary for the last 7 days (time-based reporting)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="nb">DATE</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">mtime</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">day</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_transactions</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">delta</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_delta</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_history</span><span class="w"> </span><span class="n">h</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">WHERE</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">mtime</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="k">CURRENT_DATE</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nb">INTERVAL</span><span class="w"> </span><span class="s1">&#39;7 days&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">day</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="k">day</span><span class="w"> </span><span class="k">DESC</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 7. Branches with most active tellers (multi-level aggregation)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="k">DISTINCT</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tid</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_tellers</span><span class="p">,</span><span class="w"> </span><span class="k">COUNT</span><span class="p">(</span><span class="n">h</span><span class="p">.</span><span class="n">aid</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">num_transactions</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="n">b</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_tellers</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LEFT</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">pgbench_history</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">tid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">.</span><span class="n">tid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">num_transactions</span><span class="w"> </span><span class="k">DESC</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">-- 8. Insert a new transaction (history) with valid keys
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench_history</span><span class="w"> </span><span class="p">(</span><span class="n">tid</span><span class="p">,</span><span class="w"> </span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="n">aid</span><span class="p">,</span><span class="w"> </span><span class="n">delta</span><span class="p">,</span><span class="w"> </span><span class="n">mtime</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">tid</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_tellers</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">bid</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_branches</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="k">SELECT</span><span class="w"> </span><span class="n">aid</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">pgbench_accounts</span><span class="w"> </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">(</span><span class="n">random</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1000</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">500</span><span class="p">)::</span><span class="nb">INTEGER</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">now</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">COMMIT</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><p>You can modify the script to your liking or install the pgbench tables with a higher scale factor than 100 (-s 1000) if you need more load.</p>
<h3 id="run-your-script">Run your script</h3>
<p>Now execute the script with pgbench:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">60</span> -d pgbench -U pgbench -f dwhbench.sql
</span></span></code></pre></div><p>Sample Output - note that the tps is significantelly lower than in the TPC-B like runs before:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">postgres@plexus:~$ pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">60</span> -d pgbench -U pgbench -f dwhbench.sql
</span></span><span class="line"><span class="cl">pgbench <span class="o">(</span>17.5 <span class="o">(</span>Debian 17.5-1.pgdg120+1<span class="o">))</span>
</span></span><span class="line"><span class="cl">starting vacuum...end.
</span></span><span class="line"><span class="cl">transaction type: dwhbench.sql
</span></span><span class="line"><span class="cl">scaling factor: <span class="m">1</span>
</span></span><span class="line"><span class="cl">query mode: simple
</span></span><span class="line"><span class="cl">number of clients: <span class="m">20</span>
</span></span><span class="line"><span class="cl">number of threads: <span class="m">20</span>
</span></span><span class="line"><span class="cl">maximum number of tries: <span class="m">1</span>
</span></span><span class="line"><span class="cl">duration: <span class="m">60</span> s
</span></span><span class="line"><span class="cl">number of transactions actually processed: <span class="m">158</span>
</span></span><span class="line"><span class="cl">number of failed transactions: <span class="m">0</span> <span class="o">(</span>0.000%<span class="o">)</span>
</span></span><span class="line"><span class="cl">latency <span class="nv">average</span> <span class="o">=</span> 8223.323 ms
</span></span><span class="line"><span class="cl">initial connection <span class="nb">time</span> <span class="o">=</span> 7.292 ms
</span></span><span class="line"><span class="cl"><span class="nv">tps</span> <span class="o">=</span> 2.432107 <span class="o">(</span>without initial connection <span class="nb">time</span><span class="o">)</span>
</span></span></code></pre></div><h2 id="compare-tpc-b-vs-tpc-ds-like-execution">Compare TPC-B vs TPC-DS like execution</h2>
<p>With the pgstat_snap extension I can now easily compare the execution of both benchmarks, the default pgbench benchmark and the dwhbench I created before. If you don&rsquo;t have the extension installed, you can download it here: <a href="https://github.com/raphideb/pgstat_snap">https://github.com/raphideb/pgstat_snap</a></p>
<p>For the tests, I first reset all pg_stat* and psgstat_snap* statistics:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="n">psql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">select</span><span class="w"> </span><span class="n">pgstat_snap_reset</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>Then I start collecting snapshots in one terminal window for 70 seconds:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">call</span><span class="w"> </span><span class="n">pgstat_snap_collect</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">70</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p>and immediately after start the benchmark in another terminal:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># for default TPC-B like</span>
</span></span><span class="line"><span class="cl">pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">60</span> -d pgbench -U pgbench
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># for our custom TPC-DS like</span>
</span></span><span class="line"><span class="cl">pgbench -c <span class="m">20</span> -j <span class="m">20</span> -T <span class="m">60</span> -d pgbench -U pgbench -f dwhbench.sql
</span></span></code></pre></div><h3 id="tpc-b-like">TPC-B like</h3>
<p>The pgbench default benchmark executes statements many times per second but usually only affects one row per execution, as shown by the number of rows affected each second divided by the number of times the statement was called (rows_d/called_d). The number of blocks dirtied in the shared buffer is also often quite high, indicative of a lot of reads from the filesystem.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">pgstat_snap_diff</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">snapshot_time</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="n">queryid</span><span class="w">        </span><span class="o">|</span><span class="w">        </span><span class="n">query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">datname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">usename</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">wait_event_type</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">wait_event</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">rows_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">calls_d</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">exec_ms_d</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sb_hit_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_read_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_dirt_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_write_d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">---------------------+----------------------+---------------------+---------+---------+-----------------+---------------+--------+---------+--------------+----------+-----------+-----------+------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">2646</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2646</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5515</span><span class="p">.</span><span class="mi">640933</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">13334</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4806</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2988</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">8</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Lock</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">transactionid</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">2630</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2630</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">834</span><span class="p">.</span><span class="mi">971431</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">11784</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">2626</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2626</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5365</span><span class="p">.</span><span class="mi">836472</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">13598</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4594</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2936</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">239</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Lock</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">transactionid</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">2614</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2614</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">783</span><span class="p">.</span><span class="mi">287074</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">11692</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">2619</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2619</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5390</span><span class="p">.</span><span class="mi">995660</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">13498</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4521</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2898</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">531</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">13</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Lock</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">transactionid</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">2570</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2570</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">907</span><span class="p">.</span><span class="mi">785515</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">11650</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">13</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">2568</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">2568</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5206</span><span class="p">.</span><span class="mi">180391</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">13230</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4336</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2796</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1112</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">3111</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">3111</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5063</span><span class="p">.</span><span class="mi">160774</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">15935</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">5181</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">3356</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2626</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6874825970108732267</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">  </span><span class="mi">10929</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">10929</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">73</span><span class="p">.</span><span class="mi">726408</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">11169</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">69</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">86</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">Lock</span><span class="w">            </span><span class="o">|</span><span class="w"> </span><span class="n">transactionid</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">10880</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">10880</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2454</span><span class="p">.</span><span class="mi">568335</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">48787</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">7770</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">7770</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">9218</span><span class="p">.</span><span class="mi">660031</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">39796</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">12937</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">8368</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">7342</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">17</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6874825970108732267</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">7766</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">7766</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">51</span><span class="p">.</span><span class="mi">563130</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">8122</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">41</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">65</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">4067</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4067</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">903</span><span class="p">.</span><span class="mi">844398</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">18373</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">4061</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4061</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4356</span><span class="p">.</span><span class="mi">176667</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20545</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">6727</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4308</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3985</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7882337555304992192</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_tell</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">  </span><span class="mi">22763</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">22763</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">947</span><span class="p">.</span><span class="mi">264902</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">115032</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">18</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6874825970108732267</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Client</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">ClientRead</span><span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="mi">4067</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4067</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">26</span><span class="p">.</span><span class="mi">740198</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">4240</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">31</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">53</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">4087</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4087</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">894</span><span class="p">.</span><span class="mi">378344</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">18372</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7882337555304992192</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_tell</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">4085</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4085</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">176</span><span class="p">.</span><span class="mi">151355</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20660</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">19</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">   </span><span class="mi">4088</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4088</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4107</span><span class="p">.</span><span class="mi">538425</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">20958</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">6794</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4407</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3877</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">3717316371818285038</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_acco</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">4162</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4162</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4032</span><span class="p">.</span><span class="mi">420140</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">21028</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">6905</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">4433</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3993</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">9070982371082842952</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">UPDATE</span><span class="w"> </span><span class="n">pgbench_bran</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Client</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">ClientRead</span><span class="w">    </span><span class="o">|</span><span class="w">   </span><span class="mi">4158</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">4158</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">943</span><span class="p">.</span><span class="mi">804925</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">18834</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">11</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6874825970108732267</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">   </span><span class="mi">8245</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">8245</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">53</span><span class="p">.</span><span class="mi">479212</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">8369</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">        </span><span class="mi">54</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">85</span><span class="w">
</span></span></span></code></pre></div><h3 id="tpc-ds-like">TPC-DS like</h3>
<p>This benchmark tells a different story, some queries return one row per call, others 10 or 100 per call (rows_d/calls_d). Also note that the number of blocks dirtied and evicted from the buffer is near 0 (sb_dirt_d, sb_write_d) whereas in the TPC-B, blocks were constantly unloaded and loaded into the shared buffer.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="n">pgstat_snap_diff</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="k">by</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">snapshot_time</span><span class="w">    </span><span class="o">|</span><span class="w">       </span><span class="n">queryid</span><span class="w">        </span><span class="o">|</span><span class="w">        </span><span class="n">query</span><span class="w">        </span><span class="o">|</span><span class="w"> </span><span class="n">datname</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">usename</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">wait_event_type</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">wait_event</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">rows_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">calls_d</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="n">exec_ms_d</span><span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="n">sb_hit_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_read_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_dirt_d</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sb_write_d</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="c1">---------------------+----------------------+---------------------+---------+---------+-----------------+---------------+--------+---------+--------------+----------+-----------+-----------+------------
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">00</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">LWLock</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">BufferMapping</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2090</span><span class="p">.</span><span class="mi">854209</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">42644</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">457201</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">01</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">500</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">5</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5575</span><span class="p">.</span><span class="mi">932052</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">58345</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">774700</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">01</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">80</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">14012</span><span class="p">.</span><span class="mi">869241</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">108454</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">1224336</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">02</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2712</span><span class="p">.</span><span class="mi">562823</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">41057</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">292153</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">02</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">     </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1752</span><span class="p">.</span><span class="mi">724632</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">31600</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">301620</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">02</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">11356</span><span class="p">.</span><span class="mi">669967</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2788994</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">469954</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">18</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">03</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1537</span><span class="p">.</span><span class="mi">711768</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">27657</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">305573</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">03</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">695</span><span class="p">.</span><span class="mi">818981</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="mi">9872</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">156743</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">03</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8762</span><span class="p">.</span><span class="mi">063660</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2049418</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">394793</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">5</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">04</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">LWLock</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">BufferMapping</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3760</span><span class="p">.</span><span class="mi">906149</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">54054</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">445761</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">04</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">751</span><span class="p">.</span><span class="mi">276443</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">15988</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">150627</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">04</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8790</span><span class="p">.</span><span class="mi">948263</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1885512</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">558699</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">12</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">04</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4158</span><span class="p">.</span><span class="mi">021389</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">60654</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">605786</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">05</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6126</span><span class="p">.</span><span class="mi">329681</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">34905</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">464880</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">05</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">20024</span><span class="p">.</span><span class="mi">136128</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4948620</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">754539</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">23</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">05</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">300</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2650</span><span class="p">.</span><span class="mi">404371</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">41028</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">458807</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">06</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2509</span><span class="p">.</span><span class="mi">879189</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">50945</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">448890</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">06</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">LWLock</span><span class="w">          </span><span class="o">|</span><span class="w"> </span><span class="n">BufferMapping</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5933</span><span class="p">.</span><span class="mi">317393</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1257252</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">372222</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">14</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">06</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2818</span><span class="p">.</span><span class="mi">259800</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">28190</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">305020</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">06</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">775</span><span class="p">.</span><span class="mi">519352</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">14036</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">152579</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">07</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">800</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">8</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">15163</span><span class="p">.</span><span class="mi">238847</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">129899</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">1202881</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">07</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="mi">400</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">7343</span><span class="p">.</span><span class="mi">899760</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">42480</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">623920</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">07</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5753</span><span class="p">.</span><span class="mi">122885</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1257700</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">371774</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">13</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">07</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">697</span><span class="p">.</span><span class="mi">975914</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">15494</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">151121</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">08</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">IO</span><span class="w">              </span><span class="o">|</span><span class="w"> </span><span class="n">DataFileRead</span><span class="w">  </span><span class="o">|</span><span class="w">    </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1544</span><span class="p">.</span><span class="mi">049097</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25949</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">307281</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">08</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1979</span><span class="p">.</span><span class="mi">149370</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25598</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">140997</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">08</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3134</span><span class="p">.</span><span class="mi">628218</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">629162</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">185575</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">6</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">08</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">20</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">1773</span><span class="p">.</span><span class="mi">277487</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">25037</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">308183</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">09</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">700</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">7</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="mi">14010</span><span class="p">.</span><span class="mi">989075</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">70769</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">1095416</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">09</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">40</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">4</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">5428</span><span class="p">.</span><span class="mi">666678</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">53151</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">613269</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">09</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">-</span><span class="mi">6153627433925560805</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">200</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3986</span><span class="p">.</span><span class="mi">136102</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">36939</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">296251</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">09</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">8991</span><span class="p">.</span><span class="mi">218544</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2000799</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">443412</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">2</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">12</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">6510738175259849580</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w"> </span><span class="k">SUM</span><span class="p">(</span><span class="n">a</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">     </span><span class="mi">30</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">3</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2466</span><span class="p">.</span><span class="mi">541453</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">41033</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">458802</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">4503905990032662730</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">bid</span><span class="p">,</span><span class="w">       </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">    </span><span class="mi">100</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2159</span><span class="p">.</span><span class="mi">522420</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">12549</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">154046</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">0</span><span class="w"> </span><span class="o">|</span><span class="w">          </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="mi">2025</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">06</span><span class="w"> </span><span class="mi">12</span><span class="p">:</span><span class="mi">29</span><span class="p">:</span><span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">3571751447725039568</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">pgbench</span><span class="w"> </span><span class="o">|</span><span class="w">                 </span><span class="o">|</span><span class="w">               </span><span class="o">|</span><span class="w">      </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">       </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="mi">2846</span><span class="p">.</span><span class="mi">755759</span><span class="w"> </span><span class="o">|</span><span class="w">   </span><span class="mi">628987</span><span class="w"> </span><span class="o">|</span><span class="w">    </span><span class="mi">185750</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">1</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="mi">10</span><span class="w">
</span></span></span></code></pre></div><h2 id="conclusion">Conclusion</h2>
<p>pgbench is a very powerful tool to benchmark a PostgreSQL database however you want. It&rsquo;s very easy to create your own application workload and compare it across different systems or before/after an upgrade, especially when combined with the pgstat_snap extension.</p>
<p>happy benchmarking ;)</p>

	
</div>


          </main>
        </div>
      </div>
      <footer class="td-footer row d-print-none">
  <div class="container-fluid">
    <div class="row mx-md-2">
      <div class="td-footer__left col-6 col-sm-4 order-sm-1">
        
      </div><div class="td-footer__right col-6 col-sm-4 order-sm-3">
        
      </div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2">
        
      </div>
    </div>
  </div>
</footer>

    </div>
    <script src="/js/main.js"></script>
<script defer src="/js/click-to-copy.js" crossorigin="anonymous"></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>